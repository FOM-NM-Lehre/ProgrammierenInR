<!--

# Das Tidyverse - ggplot2

-->

## Visualisierung mit dem Paket `ggplot2`

### Die Grundidee {.unnumbered}

Der erste Teil von "**gg**plot2" steht für "*G*rammar of *G*raphics", also "Grammatik der Grafiken".

Diese Idee Grafiken nicht einfach nur zu Programmieren, sondern den gesamten Prozess der Erstellung von Grafiken zu analysieren und für Nutzer:innen handhabbar zu machen geht u.a. auf das Buch ["The Grammar of Graphics"](https://doi.org/10.1007/0-387-28695-0) von [Leland Wilkinson](https://en.wikipedia.org/wiki/Leland_Wilkinson) zurück.

Es versucht die Bereiche

$$
\text{Daten} + \text{Ästhetiken (aes)} + \text{Geome} + \text{Skalen} + \text{Facets} + \text{Themen}
$$

zu kombinieren, so Grafiken einfach, klar zu beschreiben und den Computer daraus eine Graphik erstellen zu lassen. 

\

**Hinweis:** Ein _Geom_ ist, in Analogie zum _Biom_, ein eingeführter Begriff, der den "Normtyp" einer Graphik kennzeichnet.


## Beispiel: Streudiagram Körpermasse vs. Flossenlänge:

```{webr-r}
#| warning: false
#| autorun: true
penguins |>
  ggplot(aes(x = flipper_len, 
             y = body_mass, 
             color = species, 
             shape = species)) +
  geom_point(size = 3, alpha = 0.8) +
  labs(title = "Pinguin Größe, Palmer Station LTER",
       subtitle = "Flossenlänge und Körpermasse von Adelie, Chinstrap und Gentoo Pinguinen",
       x = "Flossenlänge (in mm)", 
       y = "Körpermasse (in g)", 
       color = "Penguin Art", 
       shape = "Penguin Art") +
  theme_minimal()
```


## Beispiel: Flossenlänge vs. Schnabellänge

```{webr-r}
#| warning: false
#| autorun: true
ggplot(
    data = penguins, 
    aes(x = flipper_len, 
        y = bill_len, 
        color = species, 
        shape = species)) +
  geom_point(size = 3, alpha = 0.8) +
  labs(title = "Flossen- und Schnabellänge",
       subtitle = "Dimensionen von Adelie, Chinstrap and Gentoo Pinguinen",
       x = "Flossenlänge (in mm)", 
       y = "Schnabellänge (in mm)", 
       color = "Pinguin Art", 
       shape = "Pinguin Art") +
  theme_minimal()
```


## Beispiel: Histogramm der Körpermasse:

```{webr-r}
#| warning: false
#| autorun: true
ggplot(data = penguins, aes(x = body_mass)) +
  geom_histogram(bins = 30, fill = "steelblue", alpha = 0.7) +
  labs(title = "Verteilung der Körpermasse von Palmer Pinguinen", x = "Körpergewicht (in g)", y = "Anzahl") +
  theme_minimal()
```


## Beispiel: Boxplot der Körpermasse nach Art

```{webr-r}
#| warning: false
#| autorun: true
ggplot(data = penguins, aes(x = species, y = body_mass, fill = species)) +
  geom_boxplot() +
  labs(title = "Körpermasse der Pinguin Arten", x = "Arten", y = "Körpermasse (in g)") +
  theme_minimal()
```

